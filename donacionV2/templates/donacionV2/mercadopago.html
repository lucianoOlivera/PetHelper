{% extends 'base/base.html' %} {% block page_content %}

<div class="container-fluid">

    <!-- Page Heading -->
    <h1 class="h3 mb-4 text-gray-800">Redirecci칩n a Mercado Pago</h1>
    <div class="alert alert-info text-center" role="alert">Haz click en "Pagar" para ser redirigido al checkout de Mercado Pago</div>
    
    <div class="pt-3 text-center">
        <div class="cho-container mb-3" id="cho-container"></div>
        <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-secondary"><span class="fa fa-undo"></span>
            Volver</a>
    </div>
</div>    
    


<script>
    // Agrega credenciales de SDK
      const mp = new MercadoPago('TEST-3f790011-e337-4774-b0ce-96697e7b2b3f', {
            locale: 'es-AR'
      });
    
      // Inicializa el checkout
      mp.checkout({
          preference: {
              id: '{{preference.id}}'
          },
          render: {
                container: '.cho-container', // Indica el nombre de la clase donde se mostrar치 el bot칩n de pago
                label: 'Pagar', // Cambia el texto del bot칩n de pago (opcional)
          }
    });
</script>
{% endblock %}
    